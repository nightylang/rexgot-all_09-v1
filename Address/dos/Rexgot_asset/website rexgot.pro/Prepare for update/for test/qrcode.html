<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced QR Code Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        #qrCodeCanvas {
            border: 15px solid white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .tab-button.active {
            border-bottom-width: 2px;
            border-color: #667eea;
            color: #667eea;
        }
    </style>
</head>

<body class="gradient-bg min-h-screen flex flex-col items-center justify-center p-4">
    <div class="w-full max-w-3xl bg-white rounded-xl shadow-xl overflow-hidden card-hover">
        <div class="p-6">
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">QR Code Generator</h1>
            <p class="text-center text-gray-600 mb-6">Convert URLs, text, or images into QR codes instantly</p>

            <div class="flex border-b border-gray-200 mb-6">
                <button id="urlTab" class="tab-button active px-4 py-2 font-medium text-gray-700">URL</button>
                <button id="textTab" class="tab-button px-4 py-2 font-medium text-gray-700">Text</button>
                <button id="imageTab" class="tab-button px-4 py-2 font-medium text-gray-700">Image QR</button>
            </div>

            <div id="urlContent" class="tab-content">
                <div class="mb-4">
                    <label for="urlInput" class="block text-sm font-medium text-gray-700 mb-2">Website URL</label>
                    <input type="url" id="urlInput" placeholder="https://example.com" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="mb-4">
                    <label for="urlColor" class="block text-sm font-medium text-gray-700 mb-2">QR Code Color</label>
                    <input type="color" id="urlColor" value="#000000" class="w-12 h-12">
                </div>
            </div>

            <div id="textContent" class="tab-content hidden">
                <div class="mb-4">
                    <label for="textInput" class="block text-sm font-medium text-gray-700 mb-2">Text Content</label>
                    <textarea id="textInput" rows="4" placeholder="Enter your text here..." class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div class="mb-4">
                    <label for="textColor" class="block text-sm font-medium text-gray-700 mb-2">QR Code Color</label>
                    <input type="color" id="textColor" value="#000000" class="w-12 h-12">
                </div>
            </div>

            <div id="imageContent" class="tab-content hidden">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Upload Logo</label>
                    <div class="flex items-center justify-center w-full">
                        <label for="imageUpload" class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100">
                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                </svg>
                                <p class="mb-2 text-sm text-gray-500"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                                <p class="text-xs text-gray-500">PNG, JPG (MAX. 800x800px)</p>
                            </div>
                            <input id="imageUpload" type="file" class="hidden" accept="image/*">
                        </label>
                    </div>
                    <div id="imagePreview" class="mt-4 hidden">
                        <img src="" alt="Uploaded logo preview" class="h-32 mx-auto" id="uploadedImage">
                    </div>
                </div>
                <div class="mb-4">
                    <label for="imageTextInput" class="block text-sm font-medium text-gray-700 mb-2">Text or URL for QR Code</label>
                    <input type="text" id="imageTextInput" placeholder="Enter text or URL" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="mb-4">
                    <label for="imageColor" class="block text-sm font-medium text-gray-700 mb-2">QR Code Color</label>
                    <input type="color" id="imageColor" value="#000000" class="w-12 h-12">
                </div>
            </div>

            <div class="mb-4">
                <label for="sizeRange" class="block text-sm font-medium text-gray-700 mb-2">QR Code Size: <span id="sizeValue">200</span>px</label>
                <input type="range" id="sizeRange" min="100" max="500" value="200" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>

            <div class="flex justify-center my-6">
                <canvas id="qrCodeCanvas" class="rounded-md"></canvas>
            </div>

            <div class="flex justify-between gap-2">
                <button id="generateBtn" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-md focus:outline-none focus:shadow-outline">
                    Generate QR Code
                </button>
                <button id="downloadBtn" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md focus:outline-none focus:shadow-outline">
                    Download QR Code
                </button>
            </div>

            <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                <h3 class="text-lg font-medium text-gray-800 mb-2">How to use:</h3>
                <ol class="list-decimal pl-5 space-y-1 text-gray-600">
                    <li>Select the type of QR code you want to generate (URL, text, or image)</li>
                    <li>Enter your content in the input field</li>
                    <li>Customize color and size using the controls</li>
                    <li>Click "Generate QR Code" to create your QR</li>
                    <li>Download the QR code to use it anywhere</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const tabs = {
                urlTab: document.getElementById('urlTab'),
                textTab: document.getElementById('textTab'),
                imageTab: document.getElementById('imageTab'),

                urlContent: document.getElementById('urlContent'),
                textContent: document.getElementById('textContent'),
                imageContent: document.getElementById('imageContent')
            };

            // Add click event listeners to tabs
            Object.entries(tabs).forEach(([tabId, tabElement]) => {
                if (tabId.endsWith('Tab')) {
                    tabElement.addEventListener('click', function() {
                        // Remove active class from all tabs
                        Object.entries(tabs).forEach(([id, element]) => {
                            if (id.endsWith('Tab')) {
                                element.classList.remove('active');
                            }
                        });

                        // Add active class to clicked tab
                        this.classList.add('active');

                        // Hide all content
                        Object.entries(tabs).forEach(([id, element]) => {
                            if (id.endsWith('Content')) {
                                element.classList.add('hidden');
                            }
                        });

                        // Show corresponding content
                        const contentId = tabId.replace('Tab', 'Content');
                        tabs[contentId].classList.remove('hidden');
                    });
                }
            });

            // Size range input
            const sizeRange = document.getElementById('sizeRange');
            const sizeValue = document.getElementById('sizeValue');

            sizeRange.addEventListener('input', function() {
                sizeValue.textContent = this.value;
            });

            // Image upload preview
            const imageUpload = document.getElementById('imageUpload');
            const imagePreview = document.getElementById('imagePreview');
            const uploadedImage = document.getElementById('uploadedImage');

            imageUpload.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    const reader = new FileReader();

                    reader.onload = function(event) {
                        uploadedImage.src = event.target.result;
                        imagePreview.classList.remove('hidden');
                    };

                    reader.readAsDataURL(file);
                }
            });

            // Generate QR code
            const canvas = document.getElementById('qrCodeCanvas');
            const generateBtn = document.getElementById('generateBtn');
            const downloadBtn = document.getElementById('downloadBtn');

            generateBtn.addEventListener('click', function() {
                const activeTab = document.querySelector('.tab-button.active').id;
                let contentToEncode = '';
                let color = '#000000';

                switch (activeTab) {
                    case 'urlTab':
                        contentToEncode = document.getElementById('urlInput').value;
                        color = document.getElementById('urlColor').value;
                        if (!contentToEncode) {
                            alert('Please enter a URL');
                            return;
                        }
                        break;
                    case 'textTab':
                        contentToEncode = document.getElementById('textInput').value;
                        color = document.getElementById('textColor').value;
                        if (!contentToEncode) {
                            alert('Please enter some text');
                            return;
                        }
                        break;
                    case 'imageTab':
                        contentToEncode = document.getElementById('imageTextInput').value;
                        color = document.getElementById('imageColor').value;
                        if (!contentToEncode) {
                            alert('Please enter text or URL for QR code');
                            return;
                        }
                        break;
                }

                const size = parseInt(sizeRange.value);
                canvas.width = size;
                canvas.height = size;

                // Generate QR Code
                QRCode.toCanvas(canvas, contentToEncode, {
                    width: size,
                    color: {
                        dark: color,
                        light: '#ffffff'
                    }
                }, function(error) {
                    if (error) {
                        console.error(error);
                        alert('Error generating QR code. Please try again.');
                    }
                });
            });

            // Download QR code
            downloadBtn.addEventListener('click', function() {
                const link = document.createElement('a');
                link.download = 'qr-code.png';
                link.href = canvas.toDataURL('image/png');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        });
    </script>
</body>

</html>